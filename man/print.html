<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Degenerate Programmer&#x27;s Manual</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="programming.html"><strong aria-hidden="true">2.</strong> Programming</a></li><li class="chapter-item expanded "><a href="rendering.html"><strong aria-hidden="true">3.</strong> Rendering</a></li><li class="chapter-item expanded "><a href="nfts.html"><strong aria-hidden="true">4.</strong> Degenerate NFTs</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Degenerate Programmer&#x27;s Manual</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>Degenerate is a programmable generative art engine. It is developed on
<a href="https://github.com/casey/degenerate/">GitHub</a> and deployed on the web at
<a href="https://degenerate.computer">degenerate.computer</a>.</p>
<p>Degenerate operates as a chain of image filters. The output of each filter is
used as the input of the next filter. Degenerate programs configure the state
of the current image filter and call <code>render()</code> to apply it.</p>
<p>Image filters have a number of properties, including a coordinate
transformation, which determines where in the input image pixels will be
sampled from; a mask, which determines which of those pixels will be modified;
and a color transformation, which determines how those pixels will be modified.</p>
<p>Try copying this example program into the text input field at
<a href="https://degenerate.computer">degenerate.computer</a>:</p>
<pre><code class="language-javascript">// Set the scale component of the current coordinate transformation
scale(0.75);
// Use an x-shaped mask
x();
// Use a tenth-turn about the green color axis as the color transformation
rotateColor('green', 0.1 * TAU);
// Apply the current image filter
render();
</code></pre>
<p>Press the <code>Run</code> button or <code>Shift + Enter</code> to run it. Try running it repeatedly
to see the effects of iterated rendering.</p>
<p>For more information about the JavaScript programming API, see
<a href="programming.html">Programming</a>. For more details about how the rendering engine
works, see <a href="rendering.html">Rendering</a>.</p>
<h2 id="development"><a class="header" href="#development">Development</a></h2>
<p>Degenerate is developed on <a href="https://github.com/casey/degenerate/">GitHub</a>. If
you're interested in contributing, take a look at the codebase, and pop into
<a href="https://discord.gg/87cjuz4FYg">the Discord</a> for some suggestions for a good
first issue.</p>
<h2 id="suggestions"><a class="header" href="#suggestions">Suggestions</a></h2>
<p>Experiment, experiment, experiment! Clever combinations of commands craft
charming consequences. Check out and modify some examples by using the
drop-down menu in the upper right corner of the page. Try changing the filter
and rendering in a loop, or just mash <code>Shift + Enter</code> over and over again to
see what happens.</p>
<h2 id="saving-your-creations"><a class="header" href="#saving-your-creations">Saving your creations</a></h2>
<pre><code class="language-javascript">// Make the resolution nice and big
resolution(4096);
// Render something cool
x();
render();
// Save it
save();
</code></pre>
<h2 id="learning-javascript"><a class="header" href="#learning-javascript">Learning JavaScript</a></h2>
<p>Degenerate is programmed with JavaScript. An introduction to JavaScript is
outside of the scope of this document. The reader is referred the excellent
<a href="https://developer.mozilla.org/en-US/">Mozilla Developer Network</a>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript">introduction to JavaScript</a>,
<a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript">JavaScript tutorial</a>.
and
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference">JavaScript reference</a>,</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="programming"><a class="header" href="#programming">Programming</a></h1>
<p>Degenerate programs are written in JavaScript and sent to a Web Worker for
execution. The program then sends back a series of <code>Filter</code> objects from the
worker thread, which are used to configure image filters that the renderer
applies in the main thread.</p>
<p>The JavaScript API is concerned with setting properties of the current <code>Filter</code>
object, sending <code>Filter</code> objects to the main thread, and populating the sidebar
with interactive widgets.</p>
<p>Individual image filters are relatively simple, but iterated application of one
or more filters can produce surprising and beautiful results, and varying image
filters over time or applying the same image filter in a loop can yield
striking animations.</p>
<h2 id="image-filter-properties"><a class="header" href="#image-filter-properties">Image Filter Properties</a></h2>
<p>Image filters read from a source image and write to a destination image. Every
time an image filter is applied, those images are swapped.</p>
<p>Image filters have a number of properties, including a coordinate
transformation, which determines whence input image pixels will be sampled; a
mask, which determines which of those pixels will be modified; and an color
transformation, which determines how those pixels will be modified.</p>
<p>For each pixel in the image, an image filter operates with roughly the
following steps:</p>
<ol>
<li>Generate the coordinates of the current pixel</li>
<li>Transform those coordinates by the current transform</li>
<li>If wrapping is enabled and the transformed pixel coordinates are out of
bounds, wrap them back in bounds</li>
<li>Sample the source image at those coordinates if they are in bounds,
otherwise use the current default color</li>
<li>If the pixel is inside of the current mask, apply the color transformation,
otherwise use the original color</li>
<li>Save the generated pixel to the destination image</li>
</ol>
<h2 id="api"><a class="header" href="#api">API</a></h2>
<pre><code class="language-javascript">'use strict';

importScripts('gl-matrix-min.js', 'randchacha_browser.min.js');

glMatrix.glMatrix.setMatrixArrayType(Array)

let mat2 = glMatrix.mat2;
let mat2d = glMatrix.mat2d;
let mat3 = glMatrix.mat3;
let mat4 = glMatrix.mat4;
let quat = glMatrix.quat;
let quat2 = glMatrix.quat2;
let vec2 = glMatrix.vec2;
let vec3 = glMatrix.vec3;
let vec4 = glMatrix.vec4;

// Mask all pixels.
//
// ```
// all();
// render();
// ```
//
// `MASK_ALL` is the default mask, so the above example could have been written
// as:
//
// ```
// render();
// ```
function all() {
  filter.mask = MASK_ALL;
}

// Set the alpha blending factor. `alpha` will be used to blend the
// transformed color with the original color. See `www/fragment.glsl` for
// the blend equation.
//
// ```
// alpha(0.5);
// render();
// ```
function alpha(alpha) {
  filter.alpha = alpha;
}

// Mask pixels in a checkerboard pattern.
//
// ```
// check;
// render();
// ```
function check() {
  filter.mask = MASK_CHECK;
}

// Create a new checkbox widget with the label `name`, and return true if it is
// checked. Calls with same `name` will all refer to the same checkbox, making
// it safe to call repeatedly.
//
// ```
// while(true) {
//  reboot();
//  if (checkbox('x')) {
//    x();
//  } else {
//    circle();
//  }
//  await render();
// }
// ```
function checkbox(name) {
  self.postMessage(JSON.stringify({ checkbox: name }));
  return !!widgets['widget-checkbox-' + name];
}

// Mask pixels within a circle.
//
// ```
// circle();
// render();
// ```
function circle() {
  filter.mask = MASK_CIRCLE;
}

// Clear the canvas.
//
// ```
// check();
// render();
// clear();
// ```
function clear() {
  self.postMessage(JSON.stringify('clear'));
}

// Mask pixels within a cross shape.
//
// ```
// cross();
// render();
// ```
function cross() {
  filter.mask = MASK_CROSS;
}

// Set the default color. The default color is returned whenever a pixel is sampled
// out of bounds due to a rotation, scale, or other sample coordinate transformation.
//
// ```
// defaultColor([255, 0, 255]);
// rotate(0.01 * TAU);
// render();
// ```
function defaultColor(defaultColor) {
  filter.defaultColor = defaultColor;
}

// Return the number of milliseconds that have elapsed between this frame and the last.
// Returns 0 for the first frame.
//
// ```
// let rotation = 0;
//
// while(true) {
//   reboot();
//   x();
//   rotation += delta() / 30000 * TAU;
//   rotate(rotation);
//   await render();
// }
// ```
function delta() {
  return lastDelta;
}

// Return the number of milliseconds that have elapsed since the page was loaded.
//
// ```
// while(true) {
//   reboot()
//   circle();
//   scale(0.75 * elapsed() / 20000);
//   await render();
// }
// ```
function elapsed() {
  return Date.now() - start;
}

// Display an error message in the console at the bottom of the page.
//
// ```
// error('foo');
// ```
function error(error) {
  self.postMessage(JSON.stringify({error}));
}

// Returns a promise that resolves when the browser is ready to display a new
// frame. Call `await frame()` in your rendering loop to only render when
// necessary and make sure each frame is displayed after rendering.
//
// ```
// scale(0.99);
// while (true) {
//   circle();
//   render();
//   x()
//   render();
//   await frame();
// }
// ```
async function frame() {
  await new Promise((resolve, reject) =&gt; {
    frameCallbacks.push(resolve);
  });
}

// Set the color transformation to the identity transformation. The identity
// transformation returns the sampled pixel unchanged. Useful for applying
// transformations, such as scales or rotation, without changing the sampled
// pixels.
//
// ```
// identity();
// render();
// ```
function identity() {
  mat4.identity(filter.colorTransform);
}

// If `coordinates` is true, use the coordinate of the sample as the input color,
// instead of the color of the pixel in the source image. Defaults to false.
// Useful for creating gradiants or debugging coordinate transfoms.
//
// When true, rgb will be set to (x, y, 0)
//
// ```
// coordinates(true);
// render();
// ```
function coordinates(coordinates) {
  filter.coordinates = coordinates;
}

// Set the color transformation to inversion.
//
// ```
// x();
// invert();
// render();
// ```
//
// Inversion is the default color transformation, so the above example
// could have been written as:
//
// ```
// x();
// render();
// ```
function invert() {
  mat4.fromScaling(filter.colorTransform, vec3.fromValues(-1, -1, -1));
}

// Mask pixels where the pixel's index mod `divisor` is equal to `remainder`.
//
// ```
// mod(7,0);
// render();
// ```
function mod(divisor, remainder) {
  filter.maskModDivisor = divisor;
  filter.maskModRemainder = remainder;
  filter.mask = MASK_MOD;
}

// Set the oscillator gain. The oscillator produces a sine wave tone, useful
// for debugging audio-reactive programs.
function oscillatorGain(gain) {
  self.postMessage(JSON.stringify({'oscillatorGain': gain}));
}

// Set the oscillator frequency to `hz` hertz. The oscillator produces a sine wave tone,
// useful for debugging audio-reactive programs.
function oscillatorFrequency(hz) {
  self.postMessage(JSON.stringify({'oscillatorFrequency': hz}));
}

// Create a new radio button widget with the label `name` and options `options`,
// and return the selected option. `options` must be a list of strings. Calls with
// same `name` will all refer to the same radio button widget, making it safe to
// call repeatedly.
//
// ```
// while(true) {
//   reboot();
//   switch (radio('shape', ['x', 'circle', 'cross'])) {
//     case 'x':
//       x();
//       break;
//     case 'circle':
//       circle();
//       break;
//     case 'cross':
//       cross();
//       break;
//   }
//   await render();
// }
// ```
function radio(name, options) {
  self.postMessage(JSON.stringify({ radio: [name, options] }))
  return widgets['widget-radio-' + name] ?? options[0];
}


// Yield values in the half-open range `[0,iterations)`.
//
// ```
// x();
// scale(0.9);
// for(_ of range(10)) {
//   render();
//   await sleep(1000);
// }
// ```
function* range(iterations) {
  for (let i = 0; i &lt; iterations; i++) {
    yield i;
  }
}

// Reset the image filter and clear the canvas.
// ```
// x();
// render();
// reboot();
// ```
function reboot() {
  reset();
  clear();
}

// Enable audio recording.
function record() {
  self.postMessage(JSON.stringify('record'));
}

// Send the current filter to the main thread to be rendered. Like `frame()`,
// returns a promise that will resolve when the browser is ready to display a
// new frame. Use `await frame();` when you want to render multiple times before
// presenting a new frame, and `await render();` when you want to render once
// per frame.
//
// ```
// scale(0.99);
// circle();
// while (true) {
//   await render();
// }
// ```
async function render() {
  self.postMessage(JSON.stringify({ render: filter }));
  await frame();
}

// Reset the image filter.
//
// ```
// x();
// render();
// reset();
// ```
function reset() {
  filter = new Filter();
}

// Set resolution to a fixed value. Normally, the resolution increases and
// decreases automatically as the window is resized. This is usually what you
// want, but it is convenient to override it if you want to render at a fixed
// size, for example for saving high-resolution images:
//
// ```
// resolution(4096);
// x();
// render();
// save();
// ```
function resolution(resolution) {
  if (Number.isInteger(resolution)) {
    self.postMessage(JSON.stringify({ resolution }));
  }
}

// Set `rotation` to the current rotation.
//
// ```
// rotate(0.1);
// x();
// render();
// ```
function rotate(rotation) {
  filter.rotation = rotation;
}

// Use rotation as the color transformation.
//
// Valid values for `axis` are `red`, `green`, and `blue`. Applying `rotateColor` multiple
// times around different axes is a good way to get a variety of colors. Since `rotateColor`
// rotates the vector around the provided color axis, it will not change the amount of the
// axis's color. So if you want red, e.g., rotate about the `green` or `blue` axes.
//
// ```
// rotateColor('red', 0.5 * TAU);
// all();
// render();
// ```
function rotateColor(axis, radians) {
  switch (axis) {
    case 'red':
      mat4.fromXRotation(filter.colorTransform, radians);
      break;
    case 'green':
      mat4.fromYRotation(filter.colorTransform, radians);
      break;
    case 'blue':
      mat4.fromZRotation(filter.colorTransform, radians);
      break;
  }
}

// Mask pixels where `pixel.y % (nrows + step) &lt; nrows`. Will mask `nrows` pixels and then
// skip `step` pixels.
//
// ```
// rows(1, 9);
// render();
// ```
function rows(nrows, step) {
  filter.maskRowsRows = nrows;
  filter.maskRowsStep = step;
  filter.mask = MASK_ROWS;
}

// Mask pixels where the audio time domain data is large.
function sample() {
  filter.mask = MASK_SAMPLE;
}

// Save the current canvas as a PNG.
//
// ```
// resolution(4096);
// x();
// render();
// save();
// ```
function save() {
  self.postMessage(JSON.stringify('save'));
}

// Set the current scale to `scale`. The scale factor is applied to sample coordinates before
// looking up the pixel under those coordinates.
//
// ```
// circle();
// render();
// scale(0.5);
// render();
// ```
function scale(scale) {
  filter.scale = scale;
}

// Return a promise that resolves after `ms` milliseconds.
//
// ```
// circle();
// render();
// await sleep(1000);
// scale(0.5);
// render();
// ```
function sleep(ms) {
  return new Promise(resolve =&gt; setTimeout(resolve, ms));
}

// Mask pixels within a square.
//
// ```
// square();
// render();
// ```
function square() {
  filter.mask = MASK_SQUARE;
}

// Mask the pixels in the upper half of the canvas.
//
// ```
// top();
// render();
// ```
function top() {
  filter.mask = MASK_TOP;
}

// Mask pixels within the audio waveform.
//
// ```
// record();
// wave();
// while(true) {
//   clear();
//   await render();
// }
// ```
function wave() {
  filter.mask = MASK_WAVE;
}

// Set wrap. When `wrap` is `true`, out of bounds samples will be wrapped back within bounds.
//
// ```
// x();
// wrap();
// scale(0.1);
// render();
// ```
function wrap(warp) {
  filter.wrap = warp;
}

// Mask pixels in an X shape.
//
// ```
// x();
// render();
// ```
function x() {
  filter.mask = MASK_X;
}

// The ratio of a circle's circumference to its diameter. Useful for expressing
// rotations in radians, where a full 360° turn is equal to `2 * PI`. For
// example, to rotate 1/4 turn, use `rotate(1/4 * 2 * PI)`.
const PI = Math.PI;

// The ratio of a circle's circumference to its radius. Useful for expressing
// rotations in radians, where a full 360° turn is equal to `TAU` For example,
// to rotate 1/4 turn, use `rotate(1/4 * TAU)`.
const TAU = Math.PI * 2;

// Mask constants. The mask determines which pixels the current color transform
// will be applied to. These values should be kept in sync with those in
// `www/fragment.glsl`. See the corresponding functions and case statements,
// e.g., `all()` in this file and `case MASK_ALL:` in `www/fragment.glsl`, for
// more details and the mask definition, respectively.
const MASK_ALL = 0;
const MASK_CHECK = 1;
const MASK_CIRCLE = 2;
const MASK_CROSS = 3;
const MASK_MOD = 4;
const MASK_ROWS = 5;
const MASK_SAMPLE = 6;
const MASK_SQUARE = 7;
const MASK_TOP = 8;
const MASK_WAVE = 9;
const MASK_X = 10;

class Rng {
  constructor(seed) {
    this.seed(0);
  }

  choose(array) {
    return array[this._rng.nextU32() % array.length];
  }

  seed(seed) {
    const _seed = new Uint8Array(32);
    _seed[0] = seed;
    this._rng = new randchacha.ChaChaRng(_seed);
  }
}

class Filter {
  constructor() {
    this.alpha = 1.0;
    this.colorTransform = mat4.fromScaling(mat4.create(), vec3.fromValues(-1, -1, -1));
    this.defaultColor = [0.0, 0.0, 0.0];
    this.coordinates = false;
    this.mask = MASK_ALL;
    this.maskModDivisor = 0;
    this.maskModRemainder = 0;
    this.maskRowsRows = 0;
    this.maskRowsStep = 0;
    this.rotation = 0.0;
    this.scale = 1.0;
    this.wrap = false;
  }
}

let frameCallbacks = [];
let lastDelta = 0;
let lastFrame = 0;
let rng = new Rng();
let start = Date.now();
let filter = new Filter();
let widgets = {};

self.addEventListener('message', async function (event) {
  const AsyncFunction = Object.getPrototypeOf(async function () {}).constructor;
  const message = JSON.parse(event.data);
  switch (message.tag) {
    case 'checkbox':
      widgets['widget-checkbox-' + message.content.name] = message.content.value;
      break;
    case 'radio':
      widgets['widget-radio-' + message.content.name] = message.content.value;
      break;
    case 'script':
      frameCallbacks = [];
      try {
        await new AsyncFunction(message.content)();
      } catch (error) {
        self.postMessage(JSON.stringify({'error': error.toString()}));
      }
      self.postMessage(JSON.stringify('done'));
      break;
    case 'frame':
      for (let callback of frameCallbacks) {
        callback();
      }
      frameCallbacks = [];
      let now = Date.now();
      if (lastFrame &gt; 0) {
        lastDelta = now - lastFrame;
      }
      lastFrame = now;
      break;
  }
});
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rendering"><a class="header" href="#rendering">Rendering</a></h1>
<p>Degenerate programs are written in JavaScript and sent to a Web Worker for
execution. The program then sends back a series of <code>Filter</code> objects from the
worker, which are used to configure the renderer that runs in the main thread.
The renderer renders to a full-page <code>&lt;canvas&gt;</code> element using WebGL.</p>
<p>Rendering is performed by applying a series of image filters, with the output
of each filter being fed as input to the next.</p>
<p>The various parts of the renderer are described below. You may want to skip
ahead to the description of the fragment shader, which ties everything and
serves as a good jumping off point for the rest of the codebase.</p>
<h2 id="app"><a class="header" href="#app"><code>App</code></a></h2>
<p><code>App</code>, in <a href="https://github.com/casey/degenerate/blob/master/src/app.rs">app.rs</a>,
is the top-level struct which contains logic for configuring the application
responding to user-input.</p>
<h2 id="gpu"><a class="header" href="#gpu"><code>Gpu</code></a></h2>
<p><code>Gpu</code>, in <a href="https://github.com/casey/degenerate/blob/master/src/gpu.rs">gpu.rs</a>,
is responsible for setting up the WebGL context, updating the fragment shader
with values from <code>Filter</code> objects, and executing the rendering pipeline.</p>
<h2 id="vertex-shader"><a class="header" href="#vertex-shader">Vertex Shader</a></h2>
<p>The vertex shader, in
<a href="https://github.com/casey/degenerate/blob/master/src/vertex.glsl">vertex.glsl</a>,
emits a full-screen triangle.</p>
<h2 id="fragment-shader"><a class="header" href="#fragment-shader">Fragment Shader</a></h2>
<p>The fragment shader, in
<a href="https://github.com/casey/degenerate/blob/master/src/fragment.glsl">fragment.glsl</a>,
performs the bulk of the rendering by determining the color of each pixel of
the triangle produced by the vertex shader,</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="degenerate-bitcoin-nfts"><a class="header" href="#degenerate-bitcoin-nfts">Degenerate Bitcoin NFTs</a></h1>
<p><strong><a href="nfts.html#warnings">The Command Line is the Frontline: This is the bleeding edge.</a></strong></p>
<p>Degenerate NFTs are generative art produced by <a href="nfts.html#degenerate">Degenerate</a> and issued as NFTs on the Bitcoin blockchain using the <a href="nfts.html#ordinals">Ordinal</a> NFT scheme.</p>
<p>We are minting NFTs in order to gain experience with the technology, gather feedback, and build a community. Degenerate NFTs should be treated as digital baubles that glint and glimmer but may suddenly and spontaneously shatter.</p>
<h2 id="mints"><a class="header" href="#mints">Mints</a></h2>
<p>Mints will be announced on <a href="https://twitter.com/degencomputer">Twitter</a>. Until the underlying NFT scheme is mature, we'll be giving away NFTs or selling them for nominal amounts of sats using the Lightning Network.</p>
<p>Minted NFTs will be posted to <a href="https://instagram.com/degencomputer">Instagram</a>.</p>
<h2 id="discussion-and-help"><a class="header" href="#discussion-and-help">Discussion and Help</a></h2>
<p>Visit the <a href="https://discord.gg/87cjuz4FYg">Degenerate Discord</a> to discuss the Degenerate engine, ordinals, Degenerate NFTs, or get help minting your own Ordinal NFTs of any kind.</p>
<h2 id="minting-sending-and-receiving-ordinals"><a class="header" href="#minting-sending-and-receiving-ordinals">Minting, sending, and receiving Ordinals</a></h2>
<p>Ordinal NFTs are bound to ordinal numbers, a numbering scheme for satoshis. Ownership of ordinals is tracked using the Bitcoin blockchain, and transferring ordinals is done using Bitcoin transactions.</p>
<p>There are no ordinal-aware wallets, so transfers must be done manually, either by misappropriating existing wallet software, or by writing your own.</p>
<p>To find a good ordinal number to attach an NFT to, use an ord API server. A public instance is running at api.ordinals.com:8000. To look up the ordinal numbers in a given UTXO, use the list API endpoint. <a href="http://api.ordinals.com:8000/list/c581fd4054f1663c7193c640b4d81eeb3d4fca06f1bb29937a082c9122b1a1d6:0">Example API URL for c581fd4054f1663c7193c640b4d81eeb3d4fca06f1bb29937a082c9122b1a1d6:0</a>.</p>
<p>Ordinal NFTs can be minted and verified using the <code>mint</code> and <code>verify</code> subcommands of the <a href="https://github.com/casey/ord"><code>ord</code> utility</a>.</p>
<h2 id="warnings"><a class="header" href="#warnings">Warnings</a></h2>
<p>Ordinals, the Ordinal NFT scheme, and Degenerate NFTs should be considered pre-alpha quality and subject to change at any time.</p>
<p>Ordinal numbers, defined in <a href="https://github.com/casey/ord/blob/master/bip.mediawiki">The Ordinal BIP</a>, are a mapping of ordinal numbers to satoshis, and ultimately to UTXOs. Ordinal NFTs are assigned to ordinal numbers, and thus rely on the stability and correctness of the underlying mapping. The Ordinal mapping is extremely simple and believe to be complete and bug-free, but further review and discussion is most welcome. The Ordinal spec, <code>ord</code> command line tool, and issue tracker are hosted in the <a href="https://github.com/casey/ord/">ord GitHub repository</a>.</p>
<p>The Ordinal NFT scheme, implemented <a href="https://github.com/casey/ord/blob/master/src/nft.rs">here</a>, is a scheme for issuing NFTs and assigning them to ordinal numbers, allowing their ownership to be tracked on the Bitcoin blockchain. The NFT scheme has received minimal review, and should be considered unstable. Improvements to the NFT schema may be necessary that render previously issued NFTs invalid according to the new schema.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
    </body>
</html>
